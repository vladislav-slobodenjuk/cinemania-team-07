!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=e.parcelRequire1134;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var i={id:t,exports:{}};return n[t]=i,e.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){r[t]=e},e.parcelRequire1134=i);var a=i("1uap0");i("dvr0M"),i("7svdd"),i("lCOiC"),i("4f05F");var c=i("bpxeT"),s=i("2TvXO"),o=i("4a6L1"),u=i("l1Gdk"),l=i("cQQ4S"),d=i("8MBJY"),p=i("a2hTj"),m=function(){"use strict";function e(){t(d)(this,e),this.prevAmount=null,this.currentAmount=null}return t(p)(e,[{key:"setCurrentAmount",value:function(){var t=window.innerWidth;this.setPrevAmount(),this.currentAmount=t<768?1:3}},{key:"setPrevAmount",value:function(){this.prevAmount=this.currentAmount}}]),e}(),v=i("7ukts");window.addEventListener("DOMContentLoaded",_),window.addEventListener("resize",t(u)(_,200));var f=document.querySelector(".cards-list"),h=document.querySelector(".listListener"),g=new m;function _(){return w.apply(this,arguments)}function w(){return(w=t(c)(t(s).mark((function e(){var n,r,i,a;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g.setCurrentAmount(),g.prevAmount!==g.currentAmount){t.next=3;break}return t.abrupt("return");case 3:return n=g.currentAmount,t.prev=4,t.next=7,(0,v.getTrendyFilms)();case 7:r=t.sent,i=r.results.slice(0,n),a=(0,o.createMarkup)(i),(0,o.insertMarkup)(f,a),h.addEventListener("click",(function(t){})),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),(0,l.onError)(t.t0);case 17:case"end":return t.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}c=i("bpxeT"),s=i("2TvXO"),u=i("l1Gdk"),c=i("bpxeT"),s=i("2TvXO");var x=i("dIxxU"),y=i("55T2m"),b=x.default.create({baseURL:"https://api.themoviedb.org/3/movie/upcoming",headers:{Authorization:"Bearer ".concat(y.API_BAERER)}});function A(){return T.apply(this,arguments)}function T(){return(T=t(c)(t(s).mark((function e(){var n;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.get();case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),e)})))).apply(this,arguments)}var k=i("8s63n");y=i("55T2m"),a=i("1uap0");function E(t){var e=t.backdrop_path,n=t.poster_path,r=t.title,i=t.release_date,c=t.popularity,s=t.vote_count,o=t.vote_average,u=t.genre_ids,l=t.overview,d=t.id,p=(0,k.findFilmAtStorage)(y.STORAGE_KEY,d),m=p?"remove":"add",v=p?"Remove from my library":"Add to my library",f=window.screen.width<768?n:e,h=i.replaceAll("-","."),g=(0,k.roundToTen)(c),_=(0,a.validateGenres)(u,JSON.parse(localStorage.getItem("genres")));return"\n        <div class='upcoming-card__figure'>\n          <div class='upcoming-card__layout'></div>\n            <img\n              src=\"https://image.tmdb.org/t/p/original".concat(f,'"\n              alt="').concat(r,"\"\n              loading='lazy'\n              class='upcoming-card__img'\n            > \n          </div>\n        </div>\n        <div class='upcoming-card__body'>\n          <h3 class=\"upcoming-card__title\">").concat(r,'</h3>\n          <div class=\'metrics-list__main-container\'>\n            <ul class="list metrics-list">\n              <li class="metrics-list__item">\n                <p class="metrics-text">Release date</p>\n                <p class="metrics-text metrics-text--date">').concat(h,'</p>\n              </li>\n              <li class="metrics-list__item">\n                <p class="metrics-text">Vote / Votes</p>\n                <p class="metrics-text metrics-text--vote">\n                  <span class="vote-wrapper">').concat(o,'</span>\n                  /\n                  <span class="vote-wrapper">').concat(s,'</span>\n                </p>\n              </li>\n              <li class="metrics-list__item">\n                <p class="metrics-text">Popularity</p>\n                <p class="metrics-text">').concat(g,'</p>\n              </li>\n              <li class="metrics-list__item">\n                <p class="metrics-text">Genre</p>\n                <p class="metrics-text">').concat(_,'</p>\n              </li>\n            </ul>\n          </div>\n          <h4 class="upcoming-card__subtitle metrics-text">ABOUT</h4>\n            <p class="upcoming-card__text">').concat(l,'</p>\n          <button class="btn" type="button" data-id=').concat(d," data-action=").concat(m,">").concat(v,"</button>\n\n        </div>")}function L(t){var e=t.poster_path,n=t.backdrop_path,r=(t.title,window.matchMedia("(max-width: 767px)"),document.querySelector(".upcoming-card__img"));if(!r)return console.log("no upcoming section");var i="https://image.tmdb.org/t/p/original".concat(e),a="https://image.tmdb.org/t/p/original".concat(n);return window.screen.width<768&&r.src!==i?r.src=i:window.screen.width>=768&&r.src!==a?r.src=a:void 0}k=i("8s63n");var O=document.querySelector(".upcoming-card");function M(){return(M=t(c)(t(s).mark((function e(){var n,r,i;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A();case 3:n=e.sent,r=(0,k.getRandomItem)(n),R(E(r)),i=t(u)((function(){return L(r)}),200),window.addEventListener("resize",i),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("error:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function R(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";O.innerHTML=t}window.addEventListener("DOMContentLoaded",(function(){return M.apply(this,arguments)})),i("4R5zJ"),i("8PzFy"),(0,a.getGenres)()}();
//# sourceMappingURL=index.4901cccb.js.map
