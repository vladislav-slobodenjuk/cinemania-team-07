function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=e.parcelRequire1134;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var i={id:t,exports:{}};return n[t]=i,e.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){r[t]=e},e.parcelRequire1134=i);var s=i("7q8W2");i("jQEWr"),i("7DS8N"),i("d4uC3"),i("bQ3bh");var o=i("l4dXb"),a=i("50Kfe"),c=i("dyriS");var l=i("960Ad"),d=i("5I7dC");window.addEventListener("DOMContentLoaded",g),window.addEventListener("resize",t(a)(g,200));const u=document.querySelector(".cards-list"),p=document.querySelector(".listListener"),m=new class{constructor(){this.prevAmount=null,this.currentAmount=null}setCurrentAmount(){const t=window.innerWidth;this.setPrevAmount(),this.currentAmount=t<768?1:3}setPrevAmount(){this.prevAmount=this.currentAmount}};async function g(){if(m.setCurrentAmount(),m.prevAmount===m.currentAmount)return;const t=m.currentAmount;try{const e=(await(0,l.getTrendyFilms)()).results.slice(0,t),n=(0,o.createMarkup)(e);(0,o.insertMarkup)(u,n),p.addEventListener("click",(t=>{const e=t.target.closest(".card-item").getAttribute("data-id");(0,d.openModalAboutFilm)(e)}))}catch(t){(0,c.onError)(t)}}a=i("50Kfe");var v=i("2shzp"),_=i("3H7OR");const w=v.default.create({baseURL:"https://api.themoviedb.org/3/movie/upcoming",headers:{Authorization:`Bearer ${_.API_BAERER}`}});async function h(){return(await w.get()).data.results}var f=i("9CwBA");_=i("3H7OR"),s=i("7q8W2");function A(t){const{backdrop_path:e,poster_path:n,title:r,release_date:i,popularity:o,vote_count:a,vote_average:c,genre_ids:l,overview:d,id:u}=t,p=(0,f.findFilmAtStorage)(_.STORAGE_KEY,u),m=p?"remove":"add",g=p?"Remove from my library":"Add to my library";return`\n        <div class='upcoming-card__figure'>\n          <div class='upcoming-card__layout'></div>\n            <img\n              src="https://image.tmdb.org/t/p/original${window.screen.width<768?n:e}"\n              alt="${r}"\n              loading='lazy'\n              class='upcoming-card__img'\n            > \n          </div>\n        </div>\n        <div class='upcoming-card__body'>\n          <h3 class="upcoming-card__title">${r}</h3>\n          <div class='metrics-list__main-container'>\n            <ul class="list metrics-list">\n              <li class="metrics-list__item">\n                <p class="metrics-text">Release date</p>\n                <p class="metrics-text metrics-text--date">${i.replaceAll("-",".")}</p>\n              </li>\n              <li class="metrics-list__item">\n                <p class="metrics-text">Vote / Votes</p>\n                <p class="metrics-text metrics-text--vote">\n                  <span class="vote-wrapper">${c}</span>\n                  /\n                  <span class="vote-wrapper">${a}</span>\n                </p>\n              </li>\n              <li class="metrics-list__item">\n                <p class="metrics-text">Popularity</p>\n                <p class="metrics-text">${(0,f.roundToTen)(o)}</p>\n              </li>\n              <li class="metrics-list__item">\n                <p class="metrics-text">Genre</p>\n                <p class="metrics-text">${(0,s.validateGenres)(l,JSON.parse(localStorage.getItem("genres")))}</p>\n              </li>\n            </ul>\n          </div>\n          <h4 class="upcoming-card__subtitle metrics-text">ABOUT</h4>\n            <p class="upcoming-card__text">${d}</p>\n          <button class="btn" type="button" data-id=${u} data-${m}>${g}</button>\n        </div>`}function b({poster_path:t,backdrop_path:e,title:n}){window.matchMedia("(max-width: 767px)");const r=document.querySelector(".upcoming-card__img");if(!r)return console.log("no upcoming section");const i=`https://image.tmdb.org/t/p/original${t}`,s=`https://image.tmdb.org/t/p/original${e}`;return window.screen.width<768&&r.src!==i?r.src=i:window.screen.width>=768&&r.src!==s?r.src=s:void 0}f=i("9CwBA");const y=document.querySelector(".upcoming-card");window.addEventListener("DOMContentLoaded",(async function(){try{const e=await h(),n=(0,f.getRandomItem)(e);!function(t=""){y.innerHTML=t}(A(n));const r=t(a)((()=>b(n)),200);window.addEventListener("resize",r)}catch(t){console.error("error:",t)}})),i("do66J"),i("3cErz"),i("haKcb"),i("3AqJ6"),(0,s.getGenres)();
//# sourceMappingURL=index.d986d62a.js.map
